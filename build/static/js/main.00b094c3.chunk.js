(this["webpackJsonpvk-apps-wish-list"]=this["webpackJsonpvk-apps-wish-list"]||[]).push([[0],{1207:function(e,t,i){"use strict";i.r(t);i(567),i(593),i(595),i(596),i(598),i(599),i(600),i(601),i(602),i(603),i(604),i(605),i(607),i(608),i(609),i(610),i(611),i(612),i(613),i(614),i(615),i(616),i(618),i(619),i(620),i(621),i(622),i(623),i(624),i(625),i(626),i(627),i(628),i(629),i(630),i(631),i(632),i(633),i(634),i(635);var a=i(0),n=i.n(a),s=i(61),r=i.n(s),l=i(82),o=i.n(l),c=i(9),d=(i(650),i(179)),h=i.n(d),u=i(501),_=i(502),m=i(510),f=i(503),p=i(55),g=i(511),w=i(504),v=i.n(w),y=i(270),k=i.n(y),E=(i(652),i(653),i(654),i(655),i(656),i(657),i(505)),S=i.n(E),b=i(269),C=i.n(b),W=i(506),F=i.n(W),O=i(507),x=i.n(O),D=i(508),G=i.n(D),A=i(509),j=i.n(A),H=(i(658),i(296).JSDOM,function(e){function t(e){var i;return Object(u.a)(this,t),(i=Object(m.a)(this,Object(f.a)(t).call(this,e))).state={authToken:null,activeStory:"wish",user_owner_id:null,user_name:null,user_avatar:null,user_items:[],user_friend_wishes:[],user_my_mark_wishes:[],friends:[],friends_for_look:[],wish_owner_id:null,wish_name:null,wish_description:null,wish_reference_url:null,wish_price:null,wish_photo_url:null,wish_importance:null,friend_id:null,friend_name:null,friend_avatar:null,friend_items:[],gift_id:null,gift_owner_id:null,gift_photo_url:null,gift_name:null,gift_reference_url:null,gift_price:null,gift_modified:null,gift_description:null,gift_already_presented:null,tooltip1:!0,tooltip2:!0,validate_url:!1},i.onStoryChange=i.onStoryChange.bind(Object(p.a)(i)),i.onAddWish=i.onAddWish.bind(Object(p.a)(i)),i.handleChangeForAddWish=i.handleChangeForAddWish.bind(Object(p.a)(i)),i.getFriends=i.getFriends.bind(Object(p.a)(i)),i.onFriendClickHandler=i.onFriendClickHandler.bind(Object(p.a)(i)),i.onBackClick=i.onBackClick.bind(Object(p.a)(i)),i.loadFriendsWishes=i.loadFriendsWishes.bind(Object(p.a)(i)),i.callShareDialog=i.callShareDialog.bind(Object(p.a)(i)),i.callShareDialogFriend=i.callShareDialogFriend.bind(Object(p.a)(i)),i.onDeleteGiftClickHandler=i.onDeleteGiftClickHandler.bind(Object(p.a)(i)),i.historyScreen=[i.state.activeStory],i}return Object(g.a)(t,e),Object(_.a)(t,[{key:"onBackClick",value:function(e){1!=this.historyScreen.length&&(console.log("onBackClick = "+this.historyScreen.length),this.historyScreen.pop(),console.log("onBackClick = "+this.historyScreen.length),this.setState({activeStory:this.historyScreen[this.historyScreen.length-1]}),"friend"==this.historyScreen[this.historyScreen.length-1]&&this.loadWishlistByShare(this.state.friend_id))}},{key:"onStoryChange",value:function(e){"add_wish"==e.currentTarget.dataset.story?this.historyScreen.push(e.currentTarget.dataset.story):(this.historyScreen=[e.currentTarget.dataset.story],"wish"!=e.currentTarget.dataset.story&&o.a.send("VKWebAppGetAuthToken",{app_id:7241610,scope:"friends"})),this.setState({activeStory:e.currentTarget.dataset.story})}},{key:"onAddWish",value:function(e){var t=this;-1!=this.state.wish_reference_url.indexOf("http")?this.postData("https://upmob.ru/api/mirrorWishList",{method_name:"addGift",owner_id:this.state.wish_owner_id,owner_name:this.state.user_name,owner_avatar:this.state.user_avatar,name:this.state.wish_name,description:this.state.wish_description,reference_url:this.state.wish_reference_url,price:this.state.wish_price,photo_url:this.state.wish_photo_url,importance:this.state.wish_importance}).then((function(i){console.log(JSON.stringify(i)),t.loadWishList(t.state.user_owner_id),t.onBackClick(e),t.setState({wish_price:null}),t.setState({wish_photo_url:null}),t.setState({wish_description:null}),t.setState({wish_name:null})})).catch((function(e){return console.error(e)})):this.setState({validate_url:!0})}},{key:"loadWishList",value:function(e){var t=this;console.log("wish_owner_id = "+e),this.postData("https://upmob.ru/api/mirrorWishList",{method_name:"getGiftsByUserId",owner_id:e}).then((function(e){console.log(JSON.stringify(e)),t.setState({user_items:e.items})})).catch((function(e){return console.error(e)}))}},{key:"loadFriendsWishes",value:function(e){for(var t=this,i="",a=0;a<e.length;a++)i+=0==a?""+e[a].id:","+e[a].id;console.log("loadFriendsWishes uids = "+i),this.postData("https://upmob.ru/api/mirrorWishList",{method_name:"getGiftsForFriends",uids:i}).then((function(e){console.log("loadFriendsWishes res = "+JSON.stringify(e)),t.state.user_my_mark_wishes=[];for(var i=0;i<e.items.length;i++){var a=e.items[i];null!=a.already_presented&&a.already_presented==t.state.user_owner_id&&t.state.user_my_mark_wishes.push(a)}t.setState({user_friend_wishes:e.items}),t.setState({friends_for_look:t.removeDuplicates(e.items,"owner_id")})})).catch((function(e){return console.error(e)}))}},{key:"removeDuplicates",value:function(e,t){var i=[],a={};for(var n in e)a[e[n][t]]=e[n];for(n in a)i.push(a[n]);return i}},{key:"postData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(t)}).then((function(e){return e.json()}))}},{key:"getFriends",value:function(){var e=this,t="https://api.vk.com/method/friends.get?v=5.52&access_token=".concat(this.state.authToken,"&fields=photo_100");v()(t).then((function(e){return e.json()})).then((function(t){console.log("getFriends data = "+JSON.stringify(t)),e.setState({friends:t.response.items}),e.loadFriendsWishes(t.response.items)})).catch((function(e){console.log("getFriends e = "+e)}))}},{key:"componentDidMount",value:function(){var e=this;o.a.subscribe((function(t){if(console.log("e = "+JSON.stringify(t)),t.detail.hasOwnProperty("type"))switch(t.detail.type){case"VKWebAppGetUserInfoResult":console.log("e.detail.data = "+JSON.stringify(t.detail.data)),console.log("this.state.avatar = "+e.state.user_avatar),e.setState({user_avatar:t.detail.data.photo_200}),e.setState({user_name:t.detail.data.first_name+" "+t.detail.data.last_name}),e.setState({wish_owner_id:t.detail.data.id+""}),null==e.state.user_owner_id&&e.setState({user_owner_id:t.detail.data.id+""}),e.loadWishList(e.state.wish_owner_id),console.log("window.location.href = "+window.location.hash),void 0!=window.location.hash&&window.location.hash.length>0&&e.loadWishlistByShare(window.location.hash.replace("#",""));break;case"VKWebAppInit":break;case"VKWebAppAccessTokenReceived":e.setState({authToken:t.detail.data.access_token}),e.getFriends();break;case"VKWebAppCallAPIMethodResult":"34bc"===t.detail.data.request_id&&e.setState({friends:t.detail.data.response.items});break;case"VKWebAppGetAuthToken":e.getFriends()}})),o.a.send("VKWebAppInit"),o.a.send("VKWebAppGetUserInfo",{})}},{key:"handleChangeForAddWish",value:function(e){var t,i,a,n=this;return h.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:t=e.target,console.log("event",e),i=t.value,a=t.name,s.t0=a,s.next="wish_reference_url"===s.t0?7:"wish_name"===s.t0?18:20;break;case 7:if(void 0!=i){s.next=9;break}return s.abrupt("return");case 9:if(-1!=i.indexOf("market.yandex.ru")){s.next=14;break}return this.setState({wish_photo_url:"https://vk.com/images/vkapp_i.png"}),this.setState({wish_description:""}),this.setState({wish_reference_url:i}),s.abrupt("return");case 14:return i=i.replace("m.market.yandex.ru","market.yandex.ru"),this.setState({wish_reference_url:i}),this.postData("https://upmob.ru/api/mirrorWishList",{method_name:"getFromYandexMarget",reference_url:i}).then((function(e){n.setState({wish_price:e.wish_price}),n.setState({wish_photo_url:e.wish_photo_url.replace("http","https")}),n.setState({wish_description:e.wish_description}),n.setState({wish_name:e.wish_name})})).catch((function(e){return console.error(e)})),s.abrupt("break",21);case 18:return this.setState({wish_name:i}),s.abrupt("break",21);case 20:console.log("unknown name",a);case 21:case"end":return s.stop()}}),null,this)}},{key:"onFriendClickHandler",value:function(e,t){var i=this;console.log("e id = "+e+" "+t),this.historyScreen.push("friend"),this.setState({activeStory:"friend"}),this.setState({friend_id:e.owner_id}),this.setState({friend_name:e.owner_name}),this.setState({friend_avatar:e.owner_avatar}),this.postData("https://upmob.ru/api/mirrorWishList",{method_name:"getGiftsByUserId",owner_id:e.owner_id}).then((function(e){console.log(JSON.stringify(e)),i.setState({friend_items:e.items})})).catch((function(e){return console.error(e)}))}},{key:"loadWishlistByShare",value:function(e){var t=this;this.postData("https://upmob.ru/api/mirrorWishList",{method_name:"getGiftsByUserId",owner_id:e}).then((function(e){console.log(JSON.stringify(e)),t.setState({friend_items:e.items}),t.setState({activeStory:"friend"}),t.historyScreen.push("friend"),e.items.length>0&&(t.setState({friend_id:e.items[0].owner_id}),t.setState({friend_name:e.items[0].owner_name}),t.setState({friend_avatar:e.items[0].owner_avatar}))})).catch((function(e){return console.error(e)}))}},{key:"onGiftClickHandler",value:function(e,t){console.log("e id = "+e+" "+t),this.historyScreen.push("gift"),this.setState({activeStory:"gift"}),this.setState({gift_id:e._id}),this.setState({gift_owner_id:e.owner_id}),this.setState({gift_photo_url:e.photo_url}),this.setState({gift_name:e.name}),this.setState({gift_price:e.price}),this.setState({gift_reference_url:e.reference_url}),this.setState({gift_modified:e.modified}),this.setState({gift_description:e.description}),this.setState({gift_already_presented:e.already_presented}),console.log("onGiftClickHandler gift_owner_id = "+this.state.gift_photo_url+" "+this.state.user_owner_id)}},{key:"onSetMarkGiftClickHandler",value:function(e){var t=this;if(console.log("onSetMarkGiftClickHandler 1"),this.state.gift_already_presented==this.state.user_owner_id||null==this.state.gift_already_presented){console.log("onSetMarkGiftClickHandler 2");var i=null;null==this.state.gift_already_presented&&(i=this.state.user_owner_id),this.setState({gift_already_presented:i}),this.postData("https://upmob.ru/api/mirrorWishList",{method_name:"setMarkToBuyGifts",gift_id:this.state.gift_id,owner_id:i}).then((function(e){console.log(JSON.stringify(e)),t.getFriends(),t.loadFriendsWishes(t.state.friends)})).catch((function(e){return console.error(e)}))}}},{key:"onDeleteGiftClickHandler",value:function(e){var t=this;console.log("onDeleteGiftClickHandler 1"),this.postData("https://upmob.ru/api/mirrorWishList",{method_name:"removeGift",gift_id:this.state.gift_id}).then((function(i){console.log(JSON.stringify(i)),t.loadFriendsWishes(t.state.friends),t.loadWishList(t.state.user_owner_id),t.onBackClick(e)})).catch((function(e){return console.error(e)}))}},{key:"callShareDialog",value:function(e){o.a.send("VKWebAppShare",{link:"https://vk.com/app7241610#"+this.state.user_owner_id})}},{key:"callShareDialogFriend",value:function(e){o.a.send("VKWebAppShare",{link:"https://vk.com/app7241610#"+this.state.friend_id})}},{key:"render",value:function(){var e=this;return n.a.createElement(c.e,{activeStory:this.state.activeStory,tabbar:n.a.createElement(c.n,null,n.a.createElement(c.o,{onClick:this.onStoryChange,selected:"wish"===this.state.activeStory,"data-story":"wish",text:"\u041c\u043e\u0438 \u0436\u0435\u043b\u0430\u043d\u0438\u044f"},n.a.createElement(F.a,null)),n.a.createElement(c.o,{onClick:this.onStoryChange,selected:"friends"===this.state.activeStory,"data-story":"friends",text:"\u0414\u0440\u0443\u0437\u044c\u044f"},n.a.createElement(x.a,null)),n.a.createElement(c.o,{onClick:this.onStoryChange,selected:"feed"===this.state.activeStory,"data-story":"feed",text:"\u041b\u0435\u043d\u0442\u0430"},n.a.createElement(G.a,null)),n.a.createElement(c.o,{onClick:this.onStoryChange,selected:"list_presents"===this.state.activeStory,"data-story":"list_presents",text:"\u042f \u043f\u043e\u0434\u0430\u0440\u044e"},n.a.createElement(j.a,null)))},n.a.createElement(c.q,{id:"wish",activePanel:"wish"},n.a.createElement(c.k,{id:"wish"},n.a.createElement(c.l,null,"\u041c\u043e\u0438 \u0436\u0435\u043b\u0430\u043d\u0438\u044f"),n.a.createElement(c.d,null,n.a.createElement("div",{class:"flexbox-container"},n.a.createElement("div",null,n.a.createElement("div",{class:"ava2"},n.a.createElement("div",{class:"centered5"},this.state.user_items.length),n.a.createElement("p",{style:{margin:5}},"\u0416\u0435\u043b\u0430\u043d\u0438\u0439"))),n.a.createElement("div",null,n.a.createElement(c.a,{src:this.state.user_avatar,size:180})),n.a.createElement(c.p,{text:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u0435\u0441\u044c \u0441 \u0434\u0440\u0443\u0437\u044c\u044f\u043c\u0438 \u0412\u0438\u0448\u043b\u0438\u0441\u0442\u043e\u043c, \u043a\u043e\u0433\u0434\u0430 \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u0433\u043e\u0442\u043e\u0432",cornerOffset:-10,offsetX:7,alignX:"right",onClose:function(){return e.setState({tooltip2:!1})},isShown:this.state.tooltip2&&this.state.user_items.length>0},n.a.createElement("div",null,n.a.createElement("div",{class:"ava3",onClick:this.callShareDialog.bind(this)},n.a.createElement("div",{class:"centered6"},n.a.createElement(C.a,{style:{color:"#000000"},class:"iconShare"})),n.a.createElement("p",null,"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"))))),n.a.createElement("div",{class:"centered7"},this.state.user_name),n.a.createElement("div",{class:"centered10"},n.a.createElement(c.b,{onClick:this.onStoryChange,"data-story":"add_wish",size:"xl"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0436\u0435\u043b\u0430\u043d\u0438\u0435"))),n.a.createElement(c.h,null,n.a.createElement(c.j,null,this.state.user_items.length>0&&this.state.user_items.map((function(t,i){return n.a.createElement(c.c,{key:i,onClick:e.onGiftClickHandler.bind(e,t),before:n.a.createElement("img",{style:{width:40,height:40,margin:10},src:t.photo_url}),multiline:!0,description:void 0!=t.price&&t.price+" \u20bd"},t.name)})),0==this.state.user_items.length&&n.a.createElement(c.d,null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0436\u0435\u043b\u0430\u043d\u0438\u0439 \u043f\u0443\u0441\u0442."))))),n.a.createElement(c.q,{id:"friend",activePanel:"wish"},n.a.createElement(c.k,{id:"wish"},n.a.createElement(c.l,{left:n.a.createElement(k.a,{onClick:this.onBackClick})},"\u0416\u0435\u043b\u0430\u043d\u0438\u044f \u0434\u0440\u0443\u0433\u0430"),n.a.createElement("div",{class:"flexbox-container",style:{marginTop:"20px"}},n.a.createElement("div",null,n.a.createElement("div",{class:"ava2"},n.a.createElement("div",{class:"centered5"},this.state.friend_items.length),n.a.createElement("p",{style:{margin:5}},"\u0416\u0435\u043b\u0430\u043d\u0438\u0439"))),n.a.createElement("div",null,n.a.createElement(c.a,{src:this.state.friend_avatar,size:170})),n.a.createElement("div",null,n.a.createElement("div",{class:"ava3",onClick:this.callShareDialogFriend.bind(this)},n.a.createElement("div",{class:"centered6"},n.a.createElement(C.a,{style:{color:"#000000"},class:"iconShare"})),n.a.createElement("p",null,"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")))),n.a.createElement("div",{class:"centered7"},this.state.friend_name),n.a.createElement("div",{class:"centered8",style:{color:"#888888"}},n.a.createElement("p",null,"\u0416\u0435\u043b\u0430\u043d\u0438\u0439: ",this.state.friend_items.length)),n.a.createElement(c.h,null,n.a.createElement(c.j,null,this.state.friend_items.length>0&&this.state.friend_items.map((function(t,i){return n.a.createElement(c.c,{key:i,onClick:e.onGiftClickHandler.bind(e,t),style:{opacity:t.already_presented&&void 0!=t.owner_id&&t.owner_id!=e.state.user_owner_id?.3:1},before:n.a.createElement("img",{style:{width:40,height:40,margin:10},src:t.photo_url}),multiline:!0,description:void 0!=t.price&&void 0==t.already_presented?t.price+" \u20bd":void 0!=t.already_presented&&void 0!=t.owner_id&&t.owner_id!=e.state.user_owner_id&&"\u041f\u043e\u0434\u0430\u0440\u043e\u043a \u0437\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d"},t.name)})),0==this.state.friend_items.length&&n.a.createElement(c.d,null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0436\u0435\u043b\u0430\u043d\u0438\u0439 \u043f\u0443\u0441\u0442."))))),n.a.createElement(c.q,{id:"gift",activePanel:"wish"},n.a.createElement(c.k,{id:"wish"},n.a.createElement(c.l,{left:n.a.createElement(k.a,{onClick:this.onBackClick})},"\u041f\u043e\u0434\u0430\u0440\u043e\u043a"),n.a.createElement("div",{class:"centered11",style:{backgroundColor:"#FFFFFF"}},n.a.createElement("img",{src:this.state.gift_photo_url,style:{maxWidth:"50%",maxHeight:"50%",margin:"50px"}})),n.a.createElement("div",{class:"centered3",style:{fontWeight:600,fontSize:"18pt"}},this.state.gift_name),n.a.createElement("div",{class:"centered3",style:{color:"#999999",fontSize:"13pt"}},null!=this.state.gift_price&&this.state.gift_price.toLocaleString("en")+" \u20bd"),n.a.createElement("div",{class:"centered3"},n.a.createElement(c.b,{component:"a",href:this.state.gift_reference_url,level:"secondary",size:"xl"},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443")),n.a.createElement("div",{class:"centered3",style:{color:"#999999",fontSize:"11pt"}},"\u0421\u043e\u0437\u0434\u0430\u043d\u043e "+new Date(Date.parse(this.state.gift_modified)).toLocaleString("ru",{year:"numeric",month:"long",day:"numeric"})),n.a.createElement("div",{class:"centered3"},this.state.gift_description),this.state.gift_owner_id!=this.state.user_owner_id&&null==this.state.gift_already_presented&&n.a.createElement(c.d,{class:"centered4"},n.a.createElement(c.b,{onClick:this.onSetMarkGiftClickHandler.bind(this),size:"xl"},"\u042f \u043f\u043e\u0434\u0430\u0440\u044e")),this.state.gift_owner_id!=this.state.user_owner_id&&null!=this.state.gift_already_presented&&this.state.gift_already_presented==this.state.user_owner_id&&n.a.createElement(c.d,{class:"centered4"},n.a.createElement("div",null,n.a.createElement("p",{style:{color:"#999999"}},"\u0412\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u044d\u0442\u0443 \u0432\u0435\u0449\u044c"),n.a.createElement(c.b,{onClick:this.onSetMarkGiftClickHandler.bind(this),size:"xl"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"))),this.state.gift_owner_id!=this.state.user_owner_id&&null!=this.state.gift_already_presented&&this.state.gift_already_presented!=this.state.user_owner_id&&n.a.createElement(c.d,{class:"centered4"},n.a.createElement("p",{style:{color:"#999999"}},"\u042d\u0442\u0430 \u0432\u0435\u0449\u044c \u0443\u0436\u0435 \u0437\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430.")),this.state.gift_owner_id==this.state.user_owner_id&&n.a.createElement(c.d,{class:"centered4"},n.a.createElement("div",null,n.a.createElement("p",{style:{color:"#999999"}},"\u0412\u0430\u043c \u0443\u0436\u0435 \u043f\u043e\u0434\u0430\u0440\u0438\u043b\u0438 \u044d\u0442\u0443 \u0432\u0435\u0449\u044c? \u0418\u043b\u0438 \u0432\u044b \u043f\u0435\u0440\u0435\u0434\u0443\u043c\u0430\u043b\u0438?"),n.a.createElement(c.b,{level:"destructive",size:"xl",onClick:this.onDeleteGiftClickHandler.bind(this)},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"))))),n.a.createElement(c.q,{id:"friends",activePanel:"friends"},n.a.createElement(c.k,{id:"friends"},n.a.createElement(c.l,null,"\u0414\u0440\u0443\u0437\u044c\u044f"),n.a.createElement(c.h,null,n.a.createElement(c.j,null,this.state.friends_for_look.length>0&&this.state.friends_for_look.map((function(t,i){return n.a.createElement(c.c,{key:i,onClick:e.onFriendClickHandler.bind(e,t),before:n.a.createElement(c.a,{style:{width:40,height:40},src:t.owner_avatar}),multiline:!0,description:"\u0425\u043e\u0447\u0435\u0442 "+t.name+" \u0438 \u0435\u0449\u0435..."},t.owner_name)})),0==this.state.friends_for_look.length&&n.a.createElement(c.d,null,"\u0414\u0440\u0443\u0437\u0435\u0439 \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043d\u0435\u0442 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 :("))))),n.a.createElement(c.q,{id:"feed",activePanel:"feed"},n.a.createElement(c.k,{id:"feed"},n.a.createElement(c.l,null,"\u0416\u0435\u043b\u0430\u043d\u0438\u044f \u0434\u0440\u0443\u0437\u0435\u0439"),n.a.createElement(c.h,null,n.a.createElement(c.j,null,this.state.user_friend_wishes.length>0&&this.state.user_friend_wishes.map((function(t,i){return n.a.createElement(c.c,{key:i,onClick:e.onGiftClickHandler.bind(e,t),before:n.a.createElement(c.a,{style:{width:40,height:40,margin:10},src:t.owner_avatar}),multiline:!0,description:void 0!=t.price&&t.price+" \u20bd"},n.a.createElement("div",null,n.a.createElement("img",{src:t.photo_url,style:{width:30,height:30,margin:0}})," "),t.name)})),0==this.state.user_friend_wishes.length&&n.a.createElement(c.d,null,"\u0412\u0430\u0448\u0438 \u0434\u0440\u0443\u0437\u044c\u044f \u0435\u0449\u0435 \u043d\u0435 \u0443\u0441\u043f\u0435\u043b\u0438 \u043f\u043e\u0436\u0435\u043b\u0430\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043a\u0438 :("))))),n.a.createElement(c.q,{id:"list_presents",activePanel:"list_presents"},n.a.createElement(c.k,{id:"list_presents"},n.a.createElement(c.l,null,"\u0421\u043e\u0431\u0438\u0440\u0430\u044e\u0441\u044c \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c"),n.a.createElement(c.h,null,n.a.createElement(c.j,null,this.state.user_my_mark_wishes.length>0&&this.state.user_my_mark_wishes.map((function(t,i){return n.a.createElement(c.c,{key:i,onClick:e.onGiftClickHandler.bind(e,t),before:n.a.createElement(c.a,{style:{width:40,height:40,margin:10},src:t.owner_avatar}),multiline:!0,description:void 0!=t.price&&t.price+" \u20bd"},n.a.createElement("div",null,n.a.createElement("img",{src:t.photo_url,style:{width:30,height:30,margin:0}})," "),t.name)})),0==this.state.user_my_mark_wishes.length&&n.a.createElement(c.d,null,"\u0412\u044b \u0435\u0449\u0435 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043b\u0438, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c:("))))),n.a.createElement(c.q,{id:"add_wish",activePanel:"add_wish"},n.a.createElement(c.k,{id:"add_wish"},n.a.createElement(c.l,{left:n.a.createElement(c.m,{onClick:this.onBackClick},n.a.createElement(S.a,null))}," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0416\u0435\u043b\u0430\u043d\u0438\u0435"),n.a.createElement(c.h,null,n.a.createElement(c.f,null,n.a.createElement(c.g,{top:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442"},n.a.createElement(c.p,{text:"\u0415\u0441\u043b\u0438 \u0441\u0441\u044b\u043b\u043a\u0430 \u0438\u0437 \u042f\u043d\u0434\u0435\u043a\u0441 \u043c\u0430\u0440\u043a\u0435\u0442\u0430, \u0442\u043e \u0432\u0441\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438",cornerOffset:-10,offsetX:7,alignX:"right",onClose:function(){return e.setState({tooltip1:!1})},isShown:this.state.tooltip1},n.a.createElement(c.i,{maxlength:"3000",top:"\u0421\u0441\u044b\u043b\u043a\u0430",onChange:this.handleChangeForAddWish,name:"wish_reference_url"}))),void 0!=this.state.validate_url&&this.state.validate_url&&n.a.createElement(c.d,{style:{color:"#ff0000"}},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 URL"),void 0!=this.state.wish_reference_url&&this.state.wish_reference_url.length>1&&-1==this.state.wish_reference_url.indexOf("market.yandex.ru")&&n.a.createElement(c.g,{top:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0430\u0440\u043a\u0430 \u0438 \u0446\u0435\u043d\u0443"},n.a.createElement(c.i,{maxlength:"200",onChange:this.handleChangeForAddWish,name:"wish_name"})))),null!=this.state.wish_description&&this.state.wish_description.length>3&&n.a.createElement(c.c,{before:n.a.createElement("img",{style:{width:40,height:40,margin:10},src:this.state.wish_photo_url}),multiline:!0,description:void 0!=this.state.wish_price&&this.state.wish_price+" \u20bd"},this.state.wish_name),void 0!=this.state.wish_name&&n.a.createElement(c.d,{class:"centered4"},n.a.createElement(c.b,{level:"commerce",onClick:this.onAddWish,"data-story":"add_wish",size:"l"},"\u0413\u043e\u0442\u043e\u0432\u043e")),void 0==this.state.wish_name&&n.a.createElement(c.d,{class:"centered4"},n.a.createElement(c.b,{level:"secondary",size:"l"},"\u0413\u043e\u0442\u043e\u0432\u043e")))))}}]),t}(n.a.Component));function B(){return new H}r.a.render(n.a.createElement(B,null),document.getElementById("root"));var L=B;o.a.send("VKWebAppInit"),r.a.render(n.a.createElement(L,null),document.getElementById("root"))},566:function(e,t,i){e.exports=i(1207)},658:function(e,t,i){},707:function(e,t){},709:function(e,t){},739:function(e,t){},740:function(e,t){},784:function(e,t){},786:function(e,t){},809:function(e,t){},915:function(e,t){},916:function(e,t){},945:function(e,t){function i(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id=945},977:function(e,t){function i(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id=977}},[[566,1,2]]]);
//# sourceMappingURL=main.00b094c3.chunk.js.map