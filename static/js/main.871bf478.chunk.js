(this["webpackJsonpvk-apps-wish-list"]=this["webpackJsonpvk-apps-wish-list"]||[]).push([[0],{1207:function(e,t,n){"use strict";n.r(t);n(567),n(593),n(595),n(596),n(598),n(599),n(600),n(601),n(602),n(603),n(604),n(605),n(607),n(608),n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(618),n(619),n(620),n(621),n(622),n(623),n(624),n(625),n(626),n(627),n(628),n(629),n(630),n(631),n(632),n(633),n(634),n(635);var i=n(0),a=n.n(i),s=n(61),r=n.n(s),l=n(82),o=n.n(l),c=n(9),d=(n(650),n(179)),h=n.n(d),u=n(502),_=n(503),m=n(510),f=n(504),p=n(54),g=n(511),w=n(181),v=n.n(w),y=n(271),k=n.n(y),E=(n(652),n(653),n(654),n(655),n(656),n(657),n(505)),S=n.n(E),b=n(270),C=n.n(b),F=n(506),O=n.n(F),W=n(507),x=n.n(W),D=n(508),j=n.n(D),G=n(509),A=n.n(G),H=(n(658),n(297).JSDOM,function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(f.a)(t).call(this,e))).state={authToken:null,activeStory:"wish",user_owner_id:null,user_name:null,user_avatar:null,user_items:[],user_friend_wishes:[],user_my_mark_wishes:[],friends:[],friends_for_look:[],wish_owner_id:null,wish_name:null,wish_description:null,wish_reference_url:null,wish_price:null,wish_photo_url:null,wish_importance:null,friend_id:null,friend_name:null,friend_avatar:null,friend_items:[],gift_id:null,gift_owner_id:null,gift_photo_url:null,gift_name:null,gift_reference_url:null,gift_price:null,gift_modified:null,gift_description:null,gift_already_presented:null,tooltip1:!0,tooltip2:!0,validate_url:!1},n.onStoryChange=n.onStoryChange.bind(Object(p.a)(n)),n.onAddWish=n.onAddWish.bind(Object(p.a)(n)),n.handleChangeForAddWish=n.handleChangeForAddWish.bind(Object(p.a)(n)),n.getFriends=n.getFriends.bind(Object(p.a)(n)),n.onFriendClickHandler=n.onFriendClickHandler.bind(Object(p.a)(n)),n.onBackClick=n.onBackClick.bind(Object(p.a)(n)),n.loadFriendsWishes=n.loadFriendsWishes.bind(Object(p.a)(n)),n.callShareDialog=n.callShareDialog.bind(Object(p.a)(n)),n.callShareDialogFriend=n.callShareDialogFriend.bind(Object(p.a)(n)),n.onFriendResponse=n.onFriendResponse.bind(Object(p.a)(n)),n.onDeleteGiftClickHandler=n.onDeleteGiftClickHandler.bind(Object(p.a)(n)),n.historyScreen=[n.state.activeStory],n}return Object(g.a)(t,e),Object(_.a)(t,[{key:"onBackClick",value:function(e){1!=this.historyScreen.length&&(console.log("onBackClick = "+this.historyScreen.length),this.historyScreen.pop(),console.log("onBackClick = "+this.historyScreen.length),this.setState({activeStory:this.historyScreen[this.historyScreen.length-1]}),"friend"==this.historyScreen[this.historyScreen.length-1]&&this.loadWishlistByShare(this.state.friend_id))}},{key:"onStoryChange",value:function(e){"add_wish"==e.currentTarget.dataset.story?this.historyScreen.push(e.currentTarget.dataset.story):(0==this.state.friends.length&&this.getStorage(),this.historyScreen=[e.currentTarget.dataset.story],e.currentTarget.dataset.story),this.setState({activeStory:e.currentTarget.dataset.story})}},{key:"onFriendResponse",value:function(e){o.a.send("VKWebAppGetAuthToken",{app_id:7241610,scope:"friends"})}},{key:"onAddWish",value:function(e){var t=this;-1!=this.state.wish_reference_url.indexOf("http")||-1!=this.state.wish_reference_url.indexOf(".com/")||-1!=this.state.wish_reference_url.indexOf(".ru/")?this.postData("https://upmob.ru/api/mirrorWishList",{method_name:"addGift",owner_id:this.state.wish_owner_id,owner_name:this.state.user_name,owner_avatar:this.state.user_avatar,name:this.state.wish_name,description:this.state.wish_description,reference_url:this.state.wish_reference_url,price:this.state.wish_price,photo_url:this.state.wish_photo_url,importance:this.state.wish_importance}).then((function(n){console.log(JSON.stringify(n)),t.loadWishList(t.state.user_owner_id),t.onBackClick(e),t.setState({wish_price:null}),t.setState({wish_photo_url:null}),t.setState({wish_description:null}),t.setState({wish_name:null})})).catch((function(e){return console.error(e)})):this.setState({validate_url:!0})}},{key:"loadWishList",value:function(e){var t=this;console.log("wish_owner_id = "+e),this.postData("https://upmob.ru/api/mirrorWishList",{method_name:"getGiftsByUserId",owner_id:e}).then((function(e){console.log(JSON.stringify(e)),t.setState({user_items:e.items})})).catch((function(e){return console.error(e)}))}},{key:"loadFriendsWishes",value:function(e){for(var t=this,n="",i=0;i<e.length;i++)n+=0==i?""+e[i].id:","+e[i].id;console.log("loadFriendsWishes uids = "+n),this.postData("https://upmob.ru/api/mirrorWishList",{method_name:"getGiftsForFriends",uids:n}).then((function(e){console.log("loadFriendsWishes res = "+JSON.stringify(e)),t.state.user_my_mark_wishes=[];for(var n=0;n<e.items.length;n++){var i=e.items[n];null!=i.already_presented&&i.already_presented==t.state.user_owner_id&&t.state.user_my_mark_wishes.push(i)}t.setState({user_friend_wishes:e.items}),t.setState({friends_for_look:t.removeDuplicates(e.items,"owner_id")})})).catch((function(e){return console.error(e)}))}},{key:"removeDuplicates",value:function(e,t){var n=[],i={};for(var a in e)i[e[a][t]]=e[a];for(a in i)n.push(i[a]);return n}},{key:"postData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(t)}).then((function(e){return e.json()}))}},{key:"getFriends",value:function(){var e=this,t="https://api.vk.com/method/friends.get?v=5.52&access_token=".concat(this.state.authToken,"&fields=photo_100");v()(t).then((function(e){return e.json()})).then((function(t){console.log("getFriends data = "+JSON.stringify(t)),e.setState({friends:t.response.items}),e.loadFriendsWishes(t.response.items),void 0!=t.response.items&&e.setStorage()})).catch((function(e){console.log("getFriends e = "+e)}))}},{key:"setStorage",value:function(){var e="https://api.vk.com/method/storage.set?v=5.52&access_token=".concat(this.state.authToken,"&key=").concat(this.state.user_owner_id,"hasFriendsResponse3&value=1");v()(e).then((function(e){return e.json()})).then((function(e){console.log("setStorage data = "+JSON.stringify(e))})).catch((function(e){console.log("setStorage e = "+e)}))}},{key:"getStorage",value:function(){var e="https://api.vk.com/method/storage.get?v=5.52&access_token=".concat(this.state.authToken,"&key=").concat(this.state.user_owner_id,"hasFriendsResponse3");v()(e).then((function(e){return e.json()})).then((function(e){e.response})).catch((function(e){console.log("setStorage e = "+e)}))}},{key:"componentDidMount",value:function(){var e=this;o.a.subscribe((function(t){if(console.log("e = "+JSON.stringify(t)),console.log("e = "+JSON.stringify(t)),t.detail.hasOwnProperty("type"))switch(t.detail.type){case"VKWebAppGetUserInfoResult":console.log("e.detail.data = "+JSON.stringify(t.detail.data)),console.log("this.state.avatar = "+e.state.user_avatar),e.setState({user_avatar:t.detail.data.photo_200}),e.setState({user_name:t.detail.data.first_name+" "+t.detail.data.last_name}),e.setState({wish_owner_id:t.detail.data.id+""}),e.setState({authToken:t.detail.data.access_token}),null==e.state.user_owner_id&&e.setState({user_owner_id:t.detail.data.id+""}),e.loadWishList(e.state.wish_owner_id),console.log("window.location.href = "+window.location.hash),void 0!=window.location.hash&&window.location.hash.length>0&&e.loadWishlistByShare(window.location.hash.replace("#",""));break;case"VKWebAppInit":break;case"VKWebAppAccessTokenReceived":e.setState({authToken:t.detail.data.access_token}),"friends"==t.detail.data.scope?e.getFriends():e.getStorage();break;case"VKWebAppCallAPIMethodResult":"34bc"===t.detail.data.request_id&&e.setState({friends:t.detail.data.response.items})}})),o.a.send("VKWebAppInit"),o.a.send("VKWebAppGetUserInfo",{})}},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"handleChangeForAddWish",value:function(e){var t,n,i,a=this;return h.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:t=e.target,console.log("event",e),n=t.value,i=t.name,s.t0=i,s.next="wish_reference_url"===s.t0?7:"wish_name"===s.t0?18:20;break;case 7:if(void 0!=n){s.next=9;break}return s.abrupt("return");case 9:if(-1!=n.indexOf("market.yandex.ru")){s.next=14;break}return this.setState({wish_photo_url:"https://vk.com/images/vkapp_i.png"}),this.setState({wish_description:""}),this.setState({wish_reference_url:n}),s.abrupt("return");case 14:return n=n.replace("m.market.yandex.ru","market.yandex.ru"),this.setState({wish_reference_url:n}),this.postData("https://upmob.ru/api/mirrorWishList",{method_name:"getFromYandexMarget",reference_url:n}).then((function(e){a.setState({wish_price:e.wish_price}),a.setState({wish_photo_url:e.wish_photo_url.replace("http","https")}),a.setState({wish_description:e.wish_description}),a.setState({wish_name:e.wish_name})})).catch((function(e){return console.error(e)})),s.abrupt("break",21);case 18:return this.setState({wish_name:n}),s.abrupt("break",21);case 20:console.log("unknown name",i);case 21:case"end":return s.stop()}}),null,this)}},{key:"onFriendClickHandler",value:function(e,t){var n=this;console.log("e id = "+e+" "+t),this.historyScreen.push("friend"),this.setState({activeStory:"friend"}),this.setState({friend_id:e.owner_id}),this.setState({friend_name:e.owner_name}),this.setState({friend_avatar:e.owner_avatar}),this.postData("https://upmob.ru/api/mirrorWishList",{method_name:"getGiftsByUserId",owner_id:e.owner_id}).then((function(e){console.log(JSON.stringify(e)),n.setState({friend_items:e.items})})).catch((function(e){return console.error(e)}))}},{key:"loadWishlistByShare",value:function(e){var t=this;this.postData("https://upmob.ru/api/mirrorWishList",{method_name:"getGiftsByUserId",owner_id:e}).then((function(e){console.log(JSON.stringify(e)),t.setState({friend_items:e.items}),t.setState({activeStory:"friend"}),t.historyScreen.push("friend"),e.items.length>0&&(t.setState({friend_id:e.items[0].owner_id}),t.setState({friend_name:e.items[0].owner_name}),t.setState({friend_avatar:e.items[0].owner_avatar}))})).catch((function(e){return console.error(e)}))}},{key:"onGiftClickHandler",value:function(e,t){console.log("e id = "+e+" "+t),this.historyScreen.push("gift"),this.setState({activeStory:"gift"}),this.setState({gift_id:e._id}),this.setState({gift_owner_id:e.owner_id}),this.setState({gift_photo_url:e.photo_url}),this.setState({gift_name:e.name}),this.setState({gift_price:e.price}),this.setState({gift_reference_url:e.reference_url}),this.setState({gift_modified:e.modified}),this.setState({gift_description:e.description}),this.setState({gift_already_presented:e.already_presented}),console.log("onGiftClickHandler gift_owner_id = "+this.state.gift_photo_url+" "+this.state.user_owner_id)}},{key:"onSetMarkGiftClickHandler",value:function(e){var t=this;if(console.log("onSetMarkGiftClickHandler 1"),this.state.gift_already_presented==this.state.user_owner_id||null==this.state.gift_already_presented){console.log("onSetMarkGiftClickHandler 2");var n=null;null==this.state.gift_already_presented&&(n=this.state.user_owner_id),this.setState({gift_already_presented:n}),this.postData("https://upmob.ru/api/mirrorWishList",{method_name:"setMarkToBuyGifts",gift_id:this.state.gift_id,owner_id:n}).then((function(e){console.log(JSON.stringify(e)),t.getFriends(),t.loadFriendsWishes(t.state.friends)})).catch((function(e){return console.error(e)}))}}},{key:"onDeleteGiftClickHandler",value:function(e){var t=this;console.log("onDeleteGiftClickHandler 1"),this.postData("https://upmob.ru/api/mirrorWishList",{method_name:"removeGift",gift_id:this.state.gift_id}).then((function(n){console.log(JSON.stringify(n)),t.loadFriendsWishes(t.state.friends),t.loadWishList(t.state.user_owner_id),t.onBackClick(e)})).catch((function(e){return console.error(e)}))}},{key:"callShareDialog",value:function(e){o.a.send("VKWebAppShare",{link:"https://vk.com/app7241610#"+this.state.user_owner_id})}},{key:"callShareDialogFriend",value:function(e){o.a.send("VKWebAppShare",{link:"https://vk.com/app7241610#"+this.state.friend_id})}},{key:"render",value:function(){var e=this;return a.a.createElement(c.e,{activeStory:this.state.activeStory,tabbar:a.a.createElement(c.n,null,a.a.createElement(c.o,{onClick:this.onStoryChange,selected:"wish"===this.state.activeStory,"data-story":"wish",text:"\u041c\u043e\u0438 \u0436\u0435\u043b\u0430\u043d\u0438\u044f"},a.a.createElement(O.a,null)),a.a.createElement(c.o,{onClick:this.onStoryChange,selected:"friends"===this.state.activeStory,"data-story":"friends",text:"\u0414\u0440\u0443\u0437\u044c\u044f"},a.a.createElement(x.a,null)),a.a.createElement(c.o,{onClick:this.onStoryChange,selected:"feed"===this.state.activeStory,"data-story":"feed",text:"\u041b\u0435\u043d\u0442\u0430"},a.a.createElement(j.a,null)),a.a.createElement(c.o,{onClick:this.onStoryChange,selected:"list_presents"===this.state.activeStory,"data-story":"list_presents",text:"\u042f \u043f\u043e\u0434\u0430\u0440\u044e"},a.a.createElement(A.a,null)))},a.a.createElement(c.q,{id:"wish",activePanel:"wish"},a.a.createElement(c.k,{id:"wish"},a.a.createElement(c.l,null,"\u041c\u043e\u0438 \u0436\u0435\u043b\u0430\u043d\u0438\u044f"),a.a.createElement(c.d,null,a.a.createElement("div",{class:"flexbox-container"},a.a.createElement("div",null,a.a.createElement("div",{class:"ava2"},a.a.createElement("div",{class:"centered5"},this.state.user_items.length),a.a.createElement("p",{style:{margin:5}},"\u0416\u0435\u043b\u0430\u043d\u0438\u0439"))),a.a.createElement("div",null,a.a.createElement(c.a,{src:this.state.user_avatar,size:180})),a.a.createElement(c.p,{text:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u0435\u0441\u044c \u0441 \u0434\u0440\u0443\u0437\u044c\u044f\u043c\u0438 \u0412\u0438\u0448\u043b\u0438\u0441\u0442\u043e\u043c, \u043a\u043e\u0433\u0434\u0430 \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u0433\u043e\u0442\u043e\u0432",cornerOffset:-10,offsetX:7,alignX:"right",onClose:function(){return e.setState({tooltip2:!1})},isShown:this.state.tooltip2&&this.state.user_items.length>0},a.a.createElement("div",null,a.a.createElement("div",{class:"ava3",onClick:this.callShareDialog.bind(this)},a.a.createElement("div",{class:"centered6"},a.a.createElement(C.a,{style:{color:"#000000"},class:"iconShare"})),a.a.createElement("p",null,"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"))))),a.a.createElement("div",{class:"centered7"},this.state.user_name),a.a.createElement("div",{class:"centered10"},a.a.createElement(c.b,{onClick:this.onStoryChange,"data-story":"add_wish",size:"xl"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0436\u0435\u043b\u0430\u043d\u0438\u0435"))),a.a.createElement(c.h,null,a.a.createElement(c.j,null,this.state.user_items.length>0&&this.state.user_items.map((function(t,n){return a.a.createElement(c.c,{key:n,onClick:e.onGiftClickHandler.bind(e,t),before:a.a.createElement("img",{style:{width:40,height:40,margin:10},src:t.photo_url}),multiline:!0,description:void 0!=t.price&&t.price+" \u20bd"},t.name)})),0==this.state.user_items.length&&a.a.createElement(c.d,null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0436\u0435\u043b\u0430\u043d\u0438\u0439 \u043f\u0443\u0441\u0442."))))),a.a.createElement(c.q,{id:"friend",activePanel:"wish"},a.a.createElement(c.k,{id:"wish"},a.a.createElement(c.l,{left:a.a.createElement(k.a,{onClick:this.onBackClick})},"\u0416\u0435\u043b\u0430\u043d\u0438\u044f \u0434\u0440\u0443\u0433\u0430"),a.a.createElement("div",{class:"flexbox-container",style:{marginTop:"20px"}},a.a.createElement("div",null,a.a.createElement("div",{class:"ava2"},a.a.createElement("div",{class:"centered5"},this.state.friend_items.length),a.a.createElement("p",{style:{margin:5}},"\u0416\u0435\u043b\u0430\u043d\u0438\u0439"))),a.a.createElement("div",null,a.a.createElement(c.a,{src:this.state.friend_avatar,size:170})),a.a.createElement("div",null,a.a.createElement("div",{class:"ava3",onClick:this.callShareDialogFriend.bind(this)},a.a.createElement("div",{class:"centered6"},a.a.createElement(C.a,{style:{color:"#000000"},class:"iconShare"})),a.a.createElement("p",null,"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")))),a.a.createElement("div",{class:"centered7"},this.state.friend_name),a.a.createElement("div",{class:"centered8",style:{color:"#888888"}},a.a.createElement("p",null,"\u0416\u0435\u043b\u0430\u043d\u0438\u0439: ",this.state.friend_items.length)),a.a.createElement(c.h,null,a.a.createElement(c.j,null,this.state.friend_items.length>0&&this.state.friend_items.map((function(t,n){return a.a.createElement(c.c,{key:n,onClick:e.onGiftClickHandler.bind(e,t),style:{opacity:t.already_presented&&void 0!=t.owner_id&&t.owner_id!=e.state.user_owner_id?.3:1},before:a.a.createElement("img",{style:{width:40,height:40,margin:10},src:t.photo_url}),multiline:!0,description:void 0!=t.price&&void 0==t.already_presented?t.price+" \u20bd":void 0!=t.already_presented&&void 0!=t.owner_id&&t.owner_id!=e.state.user_owner_id&&"\u041f\u043e\u0434\u0430\u0440\u043e\u043a \u0437\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d"},t.name)})),0==this.state.friend_items.length&&a.a.createElement(c.d,null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0436\u0435\u043b\u0430\u043d\u0438\u0439 \u043f\u0443\u0441\u0442."))))),a.a.createElement(c.q,{id:"gift",activePanel:"wish"},a.a.createElement(c.k,{id:"wish"},a.a.createElement(c.l,{left:a.a.createElement(k.a,{onClick:this.onBackClick})},"\u041f\u043e\u0434\u0430\u0440\u043e\u043a"),a.a.createElement("div",{class:"centered11",style:{backgroundColor:"#FFFFFF"}},a.a.createElement("img",{src:this.state.gift_photo_url,style:{maxWidth:"50%",maxHeight:"50%",margin:"50px"}})),a.a.createElement("div",{class:"centered3",style:{fontWeight:600,fontSize:"18pt"}},this.state.gift_name),a.a.createElement("div",{class:"centered3",style:{color:"#999999",fontSize:"13pt"}},null!=this.state.gift_price&&this.state.gift_price.toLocaleString("en")+" \u20bd"),a.a.createElement("div",{class:"centered3"},a.a.createElement(c.b,{component:"a",href:this.state.gift_reference_url,level:"secondary",size:"xl"},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443")),a.a.createElement("div",{class:"centered3",style:{color:"#999999",fontSize:"11pt"}},"\u0421\u043e\u0437\u0434\u0430\u043d\u043e "+new Date(Date.parse(this.state.gift_modified)).toLocaleString("ru",{year:"numeric",month:"long",day:"numeric"})),a.a.createElement("div",{class:"centered3"},this.state.gift_description),this.state.gift_owner_id!=this.state.user_owner_id&&null==this.state.gift_already_presented&&a.a.createElement(c.d,{class:"centered4"},a.a.createElement(c.b,{onClick:this.onSetMarkGiftClickHandler.bind(this),size:"xl"},"\u042f \u043f\u043e\u0434\u0430\u0440\u044e")),this.state.gift_owner_id!=this.state.user_owner_id&&null!=this.state.gift_already_presented&&this.state.gift_already_presented==this.state.user_owner_id&&a.a.createElement(c.d,{class:"centered4"},a.a.createElement("div",null,a.a.createElement("p",{style:{color:"#999999"}},"\u0412\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u044d\u0442\u0443 \u0432\u0435\u0449\u044c"),a.a.createElement(c.b,{onClick:this.onSetMarkGiftClickHandler.bind(this),size:"xl"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"))),this.state.gift_owner_id!=this.state.user_owner_id&&null!=this.state.gift_already_presented&&this.state.gift_already_presented!=this.state.user_owner_id&&a.a.createElement(c.d,{class:"centered4"},a.a.createElement("p",{style:{color:"#999999"}},"\u042d\u0442\u0430 \u0432\u0435\u0449\u044c \u0443\u0436\u0435 \u0437\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430.")),this.state.gift_owner_id==this.state.user_owner_id&&a.a.createElement(c.d,{class:"centered4"},a.a.createElement("div",null,a.a.createElement("p",{style:{color:"#999999"}},"\u0412\u0430\u043c \u0443\u0436\u0435 \u043f\u043e\u0434\u0430\u0440\u0438\u043b\u0438 \u044d\u0442\u0443 \u0432\u0435\u0449\u044c? \u0418\u043b\u0438 \u0432\u044b \u043f\u0435\u0440\u0435\u0434\u0443\u043c\u0430\u043b\u0438?"),a.a.createElement(c.b,{level:"destructive",size:"xl",onClick:this.onDeleteGiftClickHandler.bind(this)},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"))))),a.a.createElement(c.q,{id:"friends",activePanel:"friends"},a.a.createElement(c.k,{id:"friends"},a.a.createElement(c.l,null,"\u0414\u0440\u0443\u0437\u044c\u044f"),a.a.createElement(c.h,null,a.a.createElement(c.j,null,this.state.friends_for_look.length>0&&this.state.friends_for_look.map((function(t,n){return a.a.createElement(c.c,{key:n,onClick:e.onFriendClickHandler.bind(e,t),before:a.a.createElement(c.a,{style:{width:40,height:40},src:t.owner_avatar}),multiline:!0,description:"\u0425\u043e\u0447\u0435\u0442 "+t.name+" \u0438 \u0435\u0449\u0435..."},t.owner_name)})),0==this.state.friends_for_look.length&&0!=this.state.friends.length&&a.a.createElement(c.d,null,"\u0414\u0440\u0443\u0437\u0435\u0439 \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043d\u0435\u0442 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 :("),0==this.state.friends.length&&a.a.createElement(c.d,null,"\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0434\u0440\u0443\u0437\u0435\u0439, \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0438\u0445 \u0436\u0435\u043b\u0430\u043d\u0438\u044f",a.a.createElement("div",{class:"centered10"},a.a.createElement(c.b,{level:"secondary",size:"l",onClick:this.onFriendResponse},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f"))))))),a.a.createElement(c.q,{id:"feed",activePanel:"feed"},a.a.createElement(c.k,{id:"feed"},a.a.createElement(c.l,null,"\u0416\u0435\u043b\u0430\u043d\u0438\u044f \u0434\u0440\u0443\u0437\u0435\u0439"),a.a.createElement(c.h,null,a.a.createElement(c.j,null,this.state.user_friend_wishes.length>0&&this.state.user_friend_wishes.map((function(t,n){return a.a.createElement(c.c,{key:n,onClick:e.onGiftClickHandler.bind(e,t),before:a.a.createElement(c.a,{style:{width:40,height:40,margin:10},src:t.owner_avatar}),multiline:!0,description:void 0!=t.price&&t.price+" \u20bd"},a.a.createElement("div",null,a.a.createElement("img",{src:t.photo_url,style:{width:30,height:30,margin:0}})," "),t.name)})),0==this.state.user_friend_wishes.length&&a.a.createElement(c.d,null,"\u0412\u0430\u0448\u0438 \u0434\u0440\u0443\u0437\u044c\u044f \u0435\u0449\u0435 \u043d\u0435 \u0443\u0441\u043f\u0435\u043b\u0438 \u043f\u043e\u0436\u0435\u043b\u0430\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043a\u0438 :("))))),a.a.createElement(c.q,{id:"list_presents",activePanel:"list_presents"},a.a.createElement(c.k,{id:"list_presents"},a.a.createElement(c.l,null,"\u0421\u043e\u0431\u0438\u0440\u0430\u044e\u0441\u044c \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c"),a.a.createElement(c.h,null,a.a.createElement(c.j,null,this.state.user_my_mark_wishes.length>0&&this.state.user_my_mark_wishes.map((function(t,n){return a.a.createElement(c.c,{key:n,onClick:e.onGiftClickHandler.bind(e,t),before:a.a.createElement(c.a,{style:{width:40,height:40,margin:10},src:t.owner_avatar}),multiline:!0,description:void 0!=t.price&&t.price+" \u20bd"},a.a.createElement("div",null,a.a.createElement("img",{src:t.photo_url,style:{width:30,height:30,margin:0}})," "),t.name)})),0==this.state.user_my_mark_wishes.length&&a.a.createElement(c.d,null,"\u0412\u044b \u0435\u0449\u0435 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043b\u0438, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c:("))))),a.a.createElement(c.q,{id:"add_wish",activePanel:"add_wish"},a.a.createElement(c.k,{id:"add_wish"},a.a.createElement(c.l,{left:a.a.createElement(c.m,{onClick:this.onBackClick},a.a.createElement(S.a,null))}," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0416\u0435\u043b\u0430\u043d\u0438\u0435"),a.a.createElement(c.h,null,a.a.createElement(c.f,null,a.a.createElement(c.g,{top:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442"},a.a.createElement(c.p,{text:"\u0415\u0441\u043b\u0438 \u0441\u0441\u044b\u043b\u043a\u0430 \u0438\u0437 \u042f\u043d\u0434\u0435\u043a\u0441 \u043c\u0430\u0440\u043a\u0435\u0442\u0430, \u0442\u043e \u0432\u0441\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438",cornerOffset:-10,offsetX:7,alignX:"right",onClose:function(){return e.setState({tooltip1:!1})},isShown:this.state.tooltip1},a.a.createElement(c.i,{maxlength:"3000",top:"\u0421\u0441\u044b\u043b\u043a\u0430",onChange:this.handleChangeForAddWish,name:"wish_reference_url"}))),void 0!=this.state.validate_url&&this.state.validate_url&&a.a.createElement(c.d,{style:{color:"#ff0000"}},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 URL"),void 0!=this.state.wish_reference_url&&this.state.wish_reference_url.length>1&&-1==this.state.wish_reference_url.indexOf("market.yandex.ru")&&a.a.createElement(c.g,{top:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0430\u0440\u043a\u0430 \u0438 \u0446\u0435\u043d\u0443"},a.a.createElement(c.i,{maxlength:"200",onChange:this.handleChangeForAddWish,name:"wish_name"})))),null!=this.state.wish_description&&this.state.wish_description.length>3&&a.a.createElement(c.c,{before:a.a.createElement("img",{style:{width:40,height:40,margin:10},src:this.state.wish_photo_url}),multiline:!0,description:void 0!=this.state.wish_price&&this.state.wish_price+" \u20bd"},this.state.wish_name),void 0!=this.state.wish_name&&a.a.createElement(c.d,{class:"centered4"},a.a.createElement(c.b,{level:"commerce",onClick:this.onAddWish,"data-story":"add_wish",size:"l"},"\u0413\u043e\u0442\u043e\u0432\u043e")),void 0==this.state.wish_name&&a.a.createElement(c.d,{class:"centered4"},a.a.createElement(c.b,{level:"secondary",size:"l"},"\u0413\u043e\u0442\u043e\u0432\u043e")))))}}]),t}(a.a.Component));function T(){return new H}r.a.render(a.a.createElement(T,null),document.getElementById("root"));var B=T;o.a.send("VKWebAppInit"),r.a.render(a.a.createElement(B,null),document.getElementById("root"))},566:function(e,t,n){e.exports=n(1207)},658:function(e,t,n){},707:function(e,t){},709:function(e,t){},739:function(e,t){},740:function(e,t){},784:function(e,t){},786:function(e,t){},809:function(e,t){},915:function(e,t){},916:function(e,t){},945:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=945},977:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=977}},[[566,1,2]]]);
//# sourceMappingURL=main.871bf478.chunk.js.map